{
  "runtime": "nodejs12.x",
  "handler": "index.handler",
  "additionalInfrastructure": {
    "stage": {
      "terraformModuleDir": "./terraform/stage/db"
    }
  },
  "api": {
    "endpoints": [
      {
        "id": "root",
        "method": "get",
        "path": "/"
      },
      {
        "id": "health",
        "method": "get",
        "path": "/health"
      },
      {
        "id": "post-meal",
        "method": "post",
        "path": "/meals"
      },
      {
        "id": "get-meal",
        "method": "get",
        "path": "/meals/{meal-id}"
      },
      {
        "id": "fetch-meals",
        "method": "get",
        "path": "/meals"
      },
      {
        "id": "put-meal",
        "method": "put",
        "path": "/meals/{meal-id}"
      },
      {
        "id": "delete-meal",
        "method": "delete",
        "path": "/meals/{meal-id}"
      },
      {
        "id": "post-menu",
        "method": "post",
        "path": "/menus"
      },
      {
        "id": "get-menu",
        "method": "get",
        "path": "/menus/{menu-id}"
      },
      {
        "id": "fetch-menus",
        "method": "get",
        "path": "/menus"
      },
      {
        "id": "put-menu",
        "method": "put",
        "path": "/menus/{menu-id}"
      },
      {
        "id": "delete-menu",
        "method": "delete",
        "path": "/menus/{menu-id}"
      },
      {
        "id": "post-menu-item",
        "method": "post",
        "path": "/menu-items"
      },
      {
        "id": "get-menu-item",
        "method": "get",
        "path": "/menu-items/{menu-item-id}"
      },
      {
        "id": "fetch-menu-items",
        "method": "get",
        "path": "/menu-items"
      },
      {
        "id": "put-menu-item",
        "method": "put",
        "path": "/menu-items/{menu-item-id}"
      },
      {
        "id": "delete-menu-item",
        "method": "delete",
        "path": "/menu-items/{menu-item-id}"
      },
      {
        "id": "post-recipe",
        "method": "post",
        "path": "/recipes"
      },
      {
        "id": "get-recipe",
        "method": "get",
        "path": "/recipes/{recipe-id}"
      },
      {
        "id": "fetch-recipes",
        "method": "get",
        "path": "/recipes"
      },
      {
        "id": "put-recipe",
        "method": "put",
        "path": "/recipes/{recipe-id}"
      },
      {
        "id": "delete-recipe",
        "method": "delete",
        "path": "/recipes/{recipe-id}"
      },
      {
        "id": "post-shopping-list-detail",
        "method": "post",
        "path": "/shopping-list-details"
      },
      {
        "id": "get-shopping-list-detail",
        "method": "get",
        "path": "/shopping-list-details/{shopping-list-detail-id}"
      },
      {
        "id": "fetch-shopping-list-details",
        "method": "get",
        "path": "/shopping-list-details"
      },
      {
        "id": "put-shopping-list-detail",
        "method": "put",
        "path": "/shopping-list-details/{shopping-list-detail-id}"
      },
      {
        "id": "delete-shopping-list-detail",
        "method": "delete",
        "path": "/shopping-list-details/{shopping-list-detail-id}"
      },
      {
        "id": "get-meal-menu-item-relationship",
        "method": "get",
        "path": "/meal-menu-item-relationships/{meal-menu-item-relationship-id}"
      },
      {
        "id": "fetch-meal-menu-item-relationships",
        "method": "get",
        "path": "/meal-menu-item-relationships"
      },
      {
        "id": "get-meal-recipe-relationship",
        "method": "get",
        "path": "/meal-recipe-relationships/{meal-recipe-relationship-id}"
      },
      {
        "id": "fetch-meal-recipe-relationships",
        "method": "get",
        "path": "/meal-recipe-relationships"
      },
      {
        "id": "post-meal-planning-event",
        "method": "post",
        "path": "/meal-planning-events"
      },
      {
        "id": "get-meal-planning-event",
        "method": "get",
        "path": "/meal-planning-events/{meal-planning-event-id}"
      },
      {
        "id": "fetch-meal-planning-events",
        "method": "get",
        "path": "/meal-planning-events"
      }
    ]
  },
  "verify": {
    "commands": [
      "make install-dev",
      "make verify"
    ]
  },
  "build": {
    "commands": [
      "make install-dev",
      "make build"
    ],
    "buildDir": "./built"
  },
  "layer": {
    "commands": [
      "make clean",
      "make install-prod",
      "mkdir nodejs",
      "mv node_modules nodejs"
    ],
    "layerDir": "./nodejs"
  },
  "tests": {
    "qual": [
      {
        "name": "Acceptance Tests",
        "commands": [
          "make install",
          "make test-acceptance"
        ]
      }
    ],
    "prod": [
      {
        "name": "Smoke Tests",
        "commands": [
          "make install",
          "make test-smoke"
        ]
      }
    ]
  }
}
